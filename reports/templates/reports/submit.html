{% extends "layouts/default.html" %}

{% load static %}
{% load jsonify %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}

{% block view_title %}Report Submission | {% endblock %}

{% block view_content %}
	<form action="{% url 'reports:submit' %}" method="post">
		{% csrf_token %}

	<div class="container">

		{% if form.errors %}
		<div class="alert alert-error">
			<button type="button" class="close" data-dismiss="alert">&times;</button>
			{% for field, errors in form.errors.items %}
				<div>{{field}}:{% for error in errors %} {{error}}{% endfor %}</div>
			{% endfor %}
		</div>
		{% endif %}

		<div class="well report-incident-form">

			<div class="container-fluid">

				<div class="row-fluid">
					<div class="span12"><h1 id="wizard-1-header" class="text-center animated">I'm a ...</h1></div>
				</div>

				<div class="row-fluid">
					<div class="span6">
						<a id="wizard-2-victim" class="btn btn-large btn-block btn-warning animated">Victim</a>
					</div>
					<div class="span6">
						<a id="wizard-2-witness" class="btn btn-large btn-block btn-success animated">Witness</a>
					</div>
				</div>

				<div class="row-fluid">
					<div class="span8 offset2 natural-language-form">

						<p class="lead text text-center">
							I've been a victim of
							<!--<input placeholder="Incedent Category">-->
							{% render_field form.category placeholder="Location" class+="select2 span4" data-style="boostrap-select-colors-fix" %}
							that happened at
							<!--<input placeholder="Location">-->
							{% render_field form.location_text placeholder="Location" class+="span4" %}
							on
							<!--<input placeholder="Time" type="datetime-local">-->
							{% render_field form.datetime type="datetime-local" class+="span4" %}
						</p>

					</div>
				</div>

				<div class="row-fluid">
					<div class="span8 offset2">

						<div id="map" style="width:100%; height: 300px"></div>
						<!--<input type="text" name="location" id="id_location">-->
						{% render_field form.location type="hidden" %}

					</div>
				</div>

				<div class="row-fluid">
					<div class="span6">
						<h2>Victim</h2>
						{% render_field form.victim placeholder="Victim" class+="select2 input-block-level" %}

<div class="form-horizontal">
<div id="div_id_fullname" class="control-group"><label for="id_fullname" class="control-label requiredField">
				Fullname</label><div class="controls"><input class="textinput textInput" id="id_fullname" maxlength="200" name="fullname" type="text" /> </div></div><div id="div_id_gender" class="control-group"><label for="id_gender" class="control-label requiredField">
				Gender</label><div class="controls"><select class="select" id="id_gender" name="gender"><option value="M" selected="selected">Male</option><option value="F">Female</option></select></div></div><div id="div_id_age" class="control-group"><label for="id_age" class="control-label requiredField">
				Age</label><div class="controls"><input class="textinput textInput" id="id_age" name="age" type="text" /> </div></div><div id="div_id_education" class="control-group"><label for="id_education" class="control-label requiredField">
				Education</label><div class="controls"><input class="textinput textInput" id="id_education" maxlength="200" name="education" type="text" /> </div></div><div id="div_id_profession" class="control-group"><label for="id_profession" class="control-label requiredField">
				Profession</label><div class="controls"><input class="textinput textInput" id="id_profession" maxlength="200" name="profession" type="text" /> </div></div><div id="div_id_phone" class="control-group"><label for="id_phone" class="control-label requiredField">
				Phone</label><div class="controls"><input class="textinput textInput" id="id_phone" maxlength="20" name="phone" type="text" /> </div></div><div id="div_id_email" class="control-group"><label for="id_email" class="control-label requiredField">
				Email</label><div class="controls"><input class="textinput textInput" id="id_email" maxlength="75" name="email" type="text" /> </div></div><div id="div_id_description" class="control-group"><label for="id_description" class="control-label requiredField">
				Description</label><div class="controls"><textarea class="textarea" cols="40" id="id_description" name="description" rows="10"></textarea></div></div>
</div>

					</div>
					<div class="span6">
						<h2>Aggressor</h2>
						{% render_field form.aggressor placeholder="Aggressor" class+="input-block-level input-area" %}
					</div>
				</div>

				<div class="row-fluid">
					<div class="span6">
						<h2>Description</h2>
						{% render_field form.description placeholder="Description" class+="input-block-level input-area" %}
					</div>
					<div class="span6">
						<h2>Evidence</h2>
						<div id="assets" class="dropzone input-area" style="background-color: #FFF; overflow: auto;"></div>
					</div>
				</div>

				<div class="row-fluid">
					<div class="span12">
						<h2>Features</h2>
						<!--<input type="text" class="input-block-level" placeholder="Features">-->
						{% render_field form.features placeholder="Features" class+="select2 input-block-level" data-style="btn-large"  %}
					</div>
				</div>

				<div class="">
					<input type="submit" value="Report" class="btn btn-block btn-info btn-large">
				</div>

			</div>
		</div>

	</div>

	</form>

{% endblock %}

{% block view_styles %}
	<!-- Map -->
	<link rel="stylesheet" href="{% static 'components/leaflet/dist/leaflet.css'%}" />
	<!--[if lte IE 8]>
	<link rel="stylesheet" href="{% static 'components/leaflet/dist/leaflet.ie.css'%}" />
	<![endif]-->

	<link rel="stylesheet" href="{% static 'reports/styles/report-submit.css'%}" />

{% endblock %}

{% block view_scripts %}
	<!--
	<script src="{% static 'components/angular/angular.js' %}"></script>

	<script src="{% static 'components/angular-resource/angular-resource.js' %}"></script>
	<script src="{% static 'components/angular-cookies/angular-cookies.js' %}"></script>
	<script src="{% static 'components/angular-sanitize/angular-sanitize.js' %}"></script>
	<script src="{% static 'components/ui-router/release/angular-ui-router.js' %}"></script>
	<script src="{% static 'components/angular-bootstrap/ui-bootstrap-tpls.js' %}"></script>

	<script src="{% static 'scripts/app.js' %}"></script>
	<script src="{% static 'reports/scripts/report-submit-ng.js' %}"></script>
	-->

	<!-- Map -->
	<script src="{% static 'components/leaflet/dist/leaflet.js' %}"></script>
	<script src="{% static 'components-mod/L.GeoSearch/src/js/l.control.geosearch.js' %}"></script>
	<script src="{% static 'components-mod/L.GeoSearch/src/js/l.geosearch.provider.google.js' %}"></script>

	<script src="{% static 'components/dropzone/downloads/dropzone.js' %}"></script>

	<script src="{% static 'reports/scripts/report-submit.js' %}"></script>
	<script type="text/javascript">
		$(function(){
			//$('select').addClass('input-block-level').select2()
			//$('.select2').select2()
			$('.select2').selectpicker()
			/*
			$('.datetimepicker').datetimepicker({
				//language: 'en',
				pick12HourFormat: true
			});
			*/
		});
	</script>

{% endblock %}
