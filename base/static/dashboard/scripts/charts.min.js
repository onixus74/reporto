!function(){"use strict";reform||(window.reform={data:{},widgets:{},urls:{},i18n:{},l10n:{}}),reform.widgets.charts={},reform.widgets.charts.reportsByDate=function(){var a,b,c,d=[];a={name:gettext("Violations"),color:"#c13c2d",data:[]},reform.data.violationsByDate.forEach(function(b){a.data.push([new Date(b.date).getTime(),b.count])}),a.data.push([(new Date).getTime(),0]),d.push(a),b=a.data[0][0],c=a.data[a.data.length-1][0],a={name:gettext("Appreciations"),color:"#28b262",data:[]},reform.data.appreciationsByDate.forEach(function(b){a.data.push([new Date(b.date).getTime(),b.count])}),(!a.data[0]||a.data[0][0]>b)&&a.data.unshift([b,0]),(!a.data[a.data.length-1]||a.data[a.data.length-1][0]<c)&&a.data.push([c,0]),d.push(a),$(document).ready(function(){$("#ui-stats-reports-by-date-chart").highcharts({chart:{type:"line",zoomType:"x"},title:{text:gettext("Violations/Appreciations by date")},subtitle:{text:gettext(Modernizr.touch?"Click and drag in the plot area to zoom in":"Pinch the chart to zoom in")},legend:{rtl:reform.i18n.bidi},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:{title:{text:gettext("Number of Violations/Appreciations")},min:0,opposite:reform.i18n.bidi},tooltip:{formatter:function(){return this.series.name+": <b>"+this.y+"</b> "+gettext("reports on")+" <b>"+moment(this.x).format("LL")+"</b>"},useHTML:!0},series:d,credits:{enabled:!1}})})},reform.widgets.charts.violationsByFeatures=function(){var a=reform.data.violationsFeatures.filter(function(a){return a.selectable}).map(function(a){return a.definition}),b=[];b.length=a.length,a.forEach(function(a,c){b[c]=0}),reform.data.violationsByFeature.forEach(function(c){var d=a.indexOf(c.label);d>=0&&(b[d]=c.count)}),a.unshift(gettext("All Features")),b.unshift(reform.data.violationsCount),$(document).ready(function(){$("#ui-stats-violations-by-features-chart").highcharts({chart:{type:"bar"},title:{text:gettext("Violations by Features")},legend:{enabled:!1},xAxis:{categories:a,title:{text:null},opposite:reform.i18n.bidi},yAxis:{min:0,title:{text:gettext("Number of Violations"),align:"high"},labels:{overflow:"justify",maxStaggerLines:1,step:1},reversed:reform.i18n.bidi},tooltip:{valueSuffix:gettext(" violations"),useHTML:!0},plotOptions:{bar:{dataLabels:{enabled:!0}}},series:[{name:gettext("Number of Violations"),data:b}],credits:{enabled:!1}})})},reform.widgets.charts.violationsByCategory=function(){var a=reform.data.violationsByCategory.map(function(a){return[a.label,a.count]});$(document).ready(function(){$("#ui-stats-violations-by-category-chart").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:gettext("Violation by Category")},legend:{rtl:reform.i18n.bidi},tooltip:{pointFormat:"{series.name}: {point.percentage:.1f}%",useHTML:!0},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!1,color:"#000000",connectorColor:"#000000",format:"{point.name}: {point.percentage:.1f}%"},showInLegend:!0}},series:[{type:"pie",name:gettext("Victim's category share"),data:a}],credits:{enabled:!1}})})},reform.widgets.charts.violationsByVictimGender=function(){var a=reform.data.violationsByVictimGender.map(function(a){return[a.label,a.count]});$(document).ready(function(){$("#ui-stats-violations-by-victim-gender-chart").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:gettext("Violation by Victim's Gender")},legend:{rtl:reform.i18n.bidi},tooltip:{pointFormat:"{series.name}: {point.percentage:.1f}%",useHTML:!0},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!1,color:"#000000",connectorColor:"#000000",format:"{point.name}: {point.percentage:.1f}%"},showInLegend:!0}},series:[{type:"pie",name:gettext("Victim's gender share"),data:a}],credits:{enabled:!1}})})},reform.widgets.charts.violationsByVictimEducation=function(){var a=reform.data.violationsByVictimEducation.map(function(a){return[a.label,a.count]});$(document).ready(function(){$("#ui-stats-violations-by-victim-education-chart").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:gettext("Violations by Victim's Education")},legend:{rtl:reform.i18n.bidi},tooltip:{pointFormat:"{series.name}: {point.percentage:.1f}%",useHTML:!0},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!1,color:"#000000",connectorColor:"#000000",format:"{point.name}: {point.percentage:.1f}%"},showInLegend:!0}},series:[{type:"pie",name:gettext("Victim's education share"),data:a}],credits:{enabled:!1}})})},reform.widgets.charts.appreciationByCategory=function(){var a=reform.data.appreciationsByCategory.map(function(a){return[a.label,a.count]});$(document).ready(function(){$("#ui-stats-appreciations-by-category-chart").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:gettext("Appreciations by Category")},legend:{rtl:reform.i18n.bidi},tooltip:{pointFormat:"{series.name}: {point.percentage:.1f}%",useHTML:!0},plotOptions:{pie:{cursor:"pointer",dataLabels:{enabled:!1,color:"#000000",connectorColor:"#000000",format:"{point.name}: {point.percentage:.1f}%"},showInLegend:!0}},series:[{type:"pie",name:gettext("Appreciation's category share"),data:a}],credits:{enabled:!1}})})}}();
//# sourceMappingURL=/static/dashboard/scripts/charts.min.js.map