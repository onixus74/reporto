"use strict";reform||(window.reform={data:{},urls:{},widgets:{}}),reform.widgets.map=function(){var a=reform.widgets.map=L.map("ui-timeline-map");a.setView([34.161818161230386,9.3603515625],5),a.setMaxBounds(a.getBounds()),a.scrollWheelZoom.disable(),L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png").addTo(a);var b=L.AwesomeMarkers.icon({icon:"star",markerColor:"green"}),c=new L.MarkerClusterGroup;c.addLayers(reform.data.appreciationsLocations.map(function(a){var c=L.marker(L.latLng(a.latitude,a.longitude),{title:a["category__definition_"+reform.i18n.language],icon:b});return c.bindPopup('<a href="'+reform.urls.appreciationView.replace("0",a.pk)+'" target="_blank">'+a["category__definition_"+reform.i18n.language]+"</a>"),c})),a.addLayer(c)},$(document).ready(reform.widgets.map),$(document).ready(function(){reform.widgets.paginate("#ui-timeline-list",reform.data.timeline,reform.urls.appreciationsDashboard,function(a){a.find(".ui-timeline-story-locator").on("click",function(a){a.stopPropagation(),a.preventDefault();var b=$(a.target).closest("li"),c=new L.LatLng(b.data("latitude"),b.data("longitude"));reform.widgets.map.setView(c,12),$.scrollTo(reform.widgets.map._container,500)})})}),!function(){var a,b=[];a={name:"Appreciations",color:"#28b262",data:[]},reform.data.appreciationsByDate.forEach(function(b){a.data.push([new Date(b.date).getTime(),b.count])}),a.data.push([(new Date).getTime(),0]),b.push(a),$(document).ready(function(){console.log(b),$("#ui-appreciations-dates-chart").highcharts({chart:{type:"line",zoomType:"x"},title:{text:"Appreciations by date"},subtitle:{text:void 0===document.ontouchstart?"Click and drag in the plot area to zoom in":"Pinch the chart to zoom in"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:{title:{text:"Appreciations Number"},min:0},tooltip:{formatter:function(){return"<b>"+this.series.name+"</b><br/>"+Highcharts.dateFormat("%e. %b",this.x)+": "+this.y+" appreciations"}},series:b,credits:{enabled:!1}})})}();
//# sourceMappingURL=/static/appreciations/scripts/dashboard.min.js.map