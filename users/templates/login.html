{% extends "layouts/default.html" %}

{% load widget_tweaks static custom compress %}


{% block view_title %}Login | {% endblock %}

{% block view_content %}
<div class="container text-center">
	<div class="well">

		<div class="well" style="margin-top: 20px; width: auto; display: inline-block;">

			{% comment %}
			{% if form.errors %}
			<div class="alert">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				Your username and password didn't match. Please try again.</p>
			</div>
			{% endif %}
			{% endcomment %}


			{% if form.errors %}
			<div class="alert alert-error">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				{% for field, errors in form.errors.items %}
					<div class="field-{{field}}">{% for error in errors %} {{error}}{% endfor %}</div>
				{% endfor %}
			</div>
			{% endif %}

      <div class="jumbotron">
        <h1>Reform Report Platform</h1>
        <p class="lead">...</p>
      </div>

			<p class="lead">Start by signing in</p>

			<form action="{% url 'login' %}" class="form-inline" method="post">
				{% csrf_token %}
				<div class="input-prepend">
					<span class="add-on"><i class="icon-envelope"></i></span>
					{% render_field form.username type="email" placeholder="Email" required="required" autofocus="autofocus" %}
				</div>
				<div class="input-prepend">
					<span class="add-on"><i class="icon-key"></i></span>
					{% render_field form.password placeholder="Password" required="required" %}
				</div>
				<input type="hidden" name="next" value="{{ next }}" />
				<input class="btn btn-primary" name="commit" type="submit" value="Login">

			</form>

			<p><a href="{% url 'socialauth_begin' 'facebook' %}?next={{next}}" class="btn btn-primary" style="background-color: #3C5A99;"><i class="icon-facebook-sign"></i> Facebook</a> <a href="{% url 'socialauth_begin' 'google' %}?next={{next}}" class="btn btn-primary" style="background-color: #547DBF;"><i class="icon-google-plus-sign"></i> Google</a></p>


			<p class="text-center">or <a href="{% url 'register' %}?next={{next}}">register</a> using your <a href="{% url 'socialauth_begin' 'facebook' %}?next={{next}}"> Facebook</a> / <a href="{% url 'socialauth_begin' 'google' %}?next={{next}}">Google</a> account.</p>

			<!--<p class="text-center">or <a href="/register">create an account</a></p>-->

		</div>

		<div class="row-fluid">
			<div class="span12" style="margin-top: 20px;">
				<div id="ui-reports-dates-chart-highcharts"></div>
			</div>
		</div>

		<div class="row-fluid">
			<div class="span12" style="margin-top: 20px;">
				<div id="ui-stats-features-chart-highcharts"></div>
			</div>
		</div>

		<div class="row-fluid">
			<div class="span4" style="margin-top: 20px;">
				<div id="ui-stats-categories-chart-highcharts"></div>
			</div>
			<div class="span4" style="margin-top: 20px;">
				<div id="ui-stats-victim-gender-chart-highcharts"></div>
			</div>
			<div class="span4" style="margin-top: 20px;">
				<div id="ui-stats-victim-education-chart-highcharts"></div>
			</div>
		</div>

	</div>
</div>
{% endblock %}

{% block view_scripts %}
	<script type="text/javascript">
		reform.urls.statistics = {% url 'reports:public_statistics' as stats_url %}{{stats_url|json}};
	</script>
	{% compress js %}
	<script src="{% static 'components/highcharts.com/js/highcharts.src.js' %}"></script>
	<script src="{% static 'components/highcharts.com/js/modules/exporting.src.js' %}"></script>
	<script src="{% static 'users/scripts/login.js' %}"></script>
	{% endcompress %}
{% endblock %}
